; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\rvmdk\probe_rs232_os.o --asm_dir=.\rvmdk\ --list_dir=.\rvmdk\ --depend=.\rvmdk\probe_rs232_os.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime --diag_suppress=9931 -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I.\RTE\_Flash -I"C:\Program Files\0Software\Keil_v5\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0\Device\Include" -I"C:\Program Files\0Software\Keil_v5\ARM\CMSIS\Include" -I"C:\Program Files\0Software\Keil_v5\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0" -D__MICROLIB -D__UVISION_VERSION=528 -DSTM32F10X_MD --omf_browse=.\rvmdk\probe_rs232_os.crf ..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\OS\uCOS-II\probe_rs232_os.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  ProbeRS232_OS_Task PROC
;;;267    #if (PROBE_RS232_PARSE_TASK == DEF_ENABLED)
;;;268    static  void  ProbeRS232_OS_Task (void *p_arg)
000000  f7ffbffe          B.W      ProbeRS232_Task
;;;269    {
;;;270        ProbeRS232_Task(p_arg);
;;;271    }
;;;272    #endif
                          ENDP

                  ProbeRS232_OS_Init PROC
;;;130    #if (PROBE_RS232_PARSE_TASK == DEF_ENABLED)
;;;131    void  ProbeRS232_OS_Init (void)
000004  b500              PUSH     {lr}
;;;132    {
000006  b087              SUB      sp,sp,#0x1c
;;;133        CPU_INT08U  err;
;;;134    
;;;135    
;;;136    #if (OS_SEM_EN > 0)
;;;137        ProbeRS232_OS_Sem = OSSemCreate(0);
000008  2000              MOVS     r0,#0
00000a  f7fffffe          BL       OSSemCreate
00000e  4916              LDR      r1,|L1.104|
000010  6008              STR      r0,[r1,#0]  ; ProbeRS232_OS_Sem
;;;138    #if   (OS_EVENT_NAME_SIZE > 16)
;;;139        OSEventNameSet(ProbeRS232_OS_Sem, (CPU_INT08U *)"uC/Probe RS-232", &err);
;;;140    #elif (OS_EVENT_NAME_SIZE > 13)
;;;141        OSEventNameSet(ProbeRS232_OS_Sem, (CPU_INT08U *)"Probe RS-232", &err);
000012  aa06              ADD      r2,sp,#0x18
000014  a115              ADR      r1,|L1.108|
000016  f7fffffe          BL       OSEventNameSet
;;;142    #endif
;;;143    #endif
;;;144    
;;;145    #if (OS_TASK_CREATE_EXT_EN > 0)
;;;146        #if (OS_STK_GROWTH == 1)
;;;147        err = OSTaskCreateExt( ProbeRS232_OS_Task,
00001a  2103              MOVS     r1,#3
00001c  9104              STR      r1,[sp,#0x10]
00001e  2200              MOVS     r2,#0
000020  f44f7380          MOV      r3,#0x100
000024  4815              LDR      r0,|L1.124|
000026  2108              MOVS     r1,#8
000028  9302              STR      r3,[sp,#8]
00002a  9203              STR      r2,[sp,#0xc]
00002c  9001              STR      r0,[sp,#4]
00002e  460b              MOV      r3,r1
000030  f500727f          ADD      r2,r0,#0x3fc
000034  9100              STR      r1,[sp,#0]
000036  2100              MOVS     r1,#0
000038  4811              LDR      r0,|L1.128|
00003a  f7fffffe          BL       OSTaskCreateExt
00003e  9006              STR      r0,[sp,#0x18]
;;;148                               (void *)0,
;;;149                              &ProbeRS232_OS_TaskStk[PROBE_RS232_TASK_STK_SIZE - 1],    /* Set Top-Of-Stack.                    */
;;;150                               PROBE_RS232_TASK_PRIO,
;;;151                               PROBE_RS232_TASK_PRIO,
;;;152                              &ProbeRS232_OS_TaskStk[0],                                /* Set Bottom-Of-Stack.                 */
;;;153                               PROBE_RS232_TASK_STK_SIZE,
;;;154                               (void *)0,                                               /* No TCB extension.                    */
;;;155                               OS_TASK_OPT_STK_CHK | OS_TASK_OPT_STK_CLR);              /* Enable stack checking + clear stack. */
;;;156        #else
;;;157        err = OSTaskCreateExt( ProbeRS232_OS_Task,
;;;158                               (void *)0,
;;;159                              &ProbeRS232_OS_TaskStk[0],                                /* Set Top-Of-Stack.                    */
;;;160                               PROBE_RS232_TASK_PRIO,
;;;161                               PROBE_RS232_TASK_PRIO,
;;;162                              &ProbeRS232_OS_TaskStk[PROBE_RS232_TASK_STK_SIZE - 1],    /* Set Bottom-Of-Stack.                 */
;;;163                               PROBE_RS232_TASK_STK_SIZE,
;;;164                               (void *)0,                                               /* No TCB extension.                    */
;;;165                               OS_TASK_OPT_STK_CHK | OS_TASK_OPT_STK_CLR);              /* Enable stack checking + clear stack. */
;;;166        #endif
;;;167    #else
;;;168        #if (OS_STK_GROWTH == 1)
;;;169        err = OSTaskCreate( ProbeRS232_OS_Task,
;;;170                            (void *)0,
;;;171                           &ProbeRS232_OS_TaskStk[PROBE_RS232_TASK_STK_SIZE - 1],
;;;172                            PROBE_RS232_TASK_PRIO);
;;;173        #else
;;;174        err = OSTaskCreate( ProbeRS232_OS_Task,
;;;175                            (void *)0,
;;;176                           &ProbeRS232_OS_TaskStk[0],
;;;177                            PROBE_RS232_TASK_PRIO);
;;;178        #endif
;;;179    #endif
;;;180    
;;;181    #if   (OS_TASK_NAME_SIZE > 13)
;;;182        OSTaskNameSet(PROBE_RS232_TASK_PRIO, (CPU_INT08U *)"Probe RS-232", &err);
000040  aa06              ADD      r2,sp,#0x18
000042  a10a              ADR      r1,|L1.108|
000044  2008              MOVS     r0,#8
000046  f7fffffe          BL       OSTaskNameSet
;;;183    #endif
;;;184    }
00004a  b007              ADD      sp,sp,#0x1c
00004c  bd00              POP      {pc}
;;;185    #endif
                          ENDP

                  ProbeRS232_OS_Pend PROC
;;;204    #if (PROBE_RS232_PARSE_TASK == DEF_ENABLED)
;;;205    void  ProbeRS232_OS_Pend (void)
00004e  b508              PUSH     {r3,lr}
;;;206    {
;;;207    #if (OS_SEM_EN > 0)
;;;208        CPU_INT08U  err;
;;;209    
;;;210    
;;;211        OSSemPend(ProbeRS232_OS_Sem, 0, &err);                          /* Wait for a packet to be received                     */
000050  4805              LDR      r0,|L1.104|
000052  466a              MOV      r2,sp
000054  2100              MOVS     r1,#0
000056  6800              LDR      r0,[r0,#0]  ; ProbeRS232_OS_Sem
000058  f7fffffe          BL       OSSemPend
;;;212    #endif
;;;213    }
00005c  bd08              POP      {r3,pc}
;;;214    #endif
                          ENDP

                  ProbeRS232_OS_Post PROC
;;;233    #if (PROBE_RS232_PARSE_TASK == DEF_ENABLED)
;;;234    void  ProbeRS232_OS_Post (void)
00005e  4802              LDR      r0,|L1.104|
;;;235    {
;;;236    #if (OS_SEM_EN > 0)
;;;237        OSSemPost(ProbeRS232_OS_Sem);                                   /* A packet has been received                           */
000060  6800              LDR      r0,[r0,#0]  ; ProbeRS232_OS_Sem
000062  f7ffbffe          B.W      OSSemPost
;;;238    #endif
;;;239    }
;;;240    #endif
                          ENDP

000066  0000              DCW      0x0000
                  |L1.104|
                          DCD      ||.data||
                  |L1.108|
00006c  50726f62          DCB      "Probe RS-232",0
000070  65205253
000074  2d323332
000078  00      
000079  00                DCB      0
00007a  00                DCB      0
00007b  00                DCB      0
                  |L1.124|
                          DCD      ||.bss||
                  |L1.128|
                          DCD      ProbeRS232_OS_Task

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  ProbeRS232_OS_TaskStk
                          %        1024

                          AREA ||.data||, DATA, ALIGN=2

                  ProbeRS232_OS_Sem
                          DCD      0x00000000
