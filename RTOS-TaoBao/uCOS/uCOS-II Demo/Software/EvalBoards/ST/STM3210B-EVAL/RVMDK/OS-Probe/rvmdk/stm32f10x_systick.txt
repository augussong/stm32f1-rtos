; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\rvmdk\stm32f10x_systick.o --asm_dir=.\rvmdk\ --list_dir=.\rvmdk\ --depend=.\rvmdk\stm32f10x_systick.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime --diag_suppress=9931 -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I.\RTE\_Flash -I"C:\Program Files\0Software\Keil_v5\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0\Device\Include" -I"C:\Program Files\0Software\Keil_v5\ARM\CMSIS\Include" -I"C:\Program Files\0Software\Keil_v5\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0" -D__MICROLIB -D__UVISION_VERSION=528 -DSTM32F10X_MD --omf_browse=.\rvmdk\stm32f10x_systick.crf ..\..\..\..\..\CPU\ST\STM32\src\stm32f10x_systick.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=1

                  SysTick_CLKSourceConfig PROC
;;;44     *******************************************************************************/
;;;45     void SysTick_CLKSourceConfig(u32 SysTick_CLKSource)
000000  f04f21e0          MOV      r1,#0xe000e000
;;;46     {
;;;47       /* Check the parameters */
;;;48       assert_param(IS_SYSTICK_CLK_SOURCE(SysTick_CLKSource));
;;;49     
;;;50       if (SysTick_CLKSource == SysTick_CLKSource_HCLK)
000004  2804              CMP      r0,#4
000006  d004              BEQ      |L1.18|
;;;51       {
;;;52         SysTick->CTRL |= SysTick_CLKSource_HCLK;
;;;53       }
;;;54       else
;;;55       {
;;;56         SysTick->CTRL &= SysTick_CLKSource_HCLK_Div8;
000008  6908              LDR      r0,[r1,#0x10]
00000a  f0200004          BIC      r0,r0,#4
00000e  6108              STR      r0,[r1,#0x10]
;;;57       }
;;;58     }
000010  4770              BX       lr
                  |L1.18|
000012  6908              LDR      r0,[r1,#0x10]         ;52
000014  f0400004          ORR      r0,r0,#4              ;52
000018  6108              STR      r0,[r1,#0x10]         ;52
00001a  4770              BX       lr
;;;59     
                          ENDP

                  SysTick_SetReload PROC
;;;67     *******************************************************************************/
;;;68     void SysTick_SetReload(u32 Reload)
00001c  f04f21e0          MOV      r1,#0xe000e000
;;;69     {
;;;70       /* Check the parameters */
;;;71       assert_param(IS_SYSTICK_RELOAD(Reload));
;;;72     
;;;73       SysTick->LOAD = Reload;
000020  6148              STR      r0,[r1,#0x14]
;;;74     }
000022  4770              BX       lr
;;;75     
                          ENDP

                  SysTick_CounterCmd PROC
;;;86     *******************************************************************************/
;;;87     void SysTick_CounterCmd(u32 SysTick_Counter)
000024  f04f21e0          MOV      r1,#0xe000e000
;;;88     {
;;;89       /* Check the parameters */
;;;90       assert_param(IS_SYSTICK_COUNTER(SysTick_Counter));
;;;91     
;;;92       if (SysTick_Counter == SysTick_Counter_Enable)
000028  2801              CMP      r0,#1
00002a  d005              BEQ      |L1.56|
;;;93       {
;;;94         SysTick->CTRL |= SysTick_Counter_Enable;
;;;95       }
;;;96       else if (SysTick_Counter == SysTick_Counter_Disable) 
00002c  f1100f02          CMN      r0,#2
000030  d007              BEQ      |L1.66|
;;;97       {
;;;98         SysTick->CTRL &= SysTick_Counter_Disable;
;;;99       }
;;;100      else /* SysTick_Counter == SysTick_Counter_Clear */
;;;101      {
;;;102        SysTick->VAL = SysTick_Counter_Clear;
000032  2000              MOVS     r0,#0
000034  6188              STR      r0,[r1,#0x18]
;;;103      }    
;;;104    }
000036  4770              BX       lr
                  |L1.56|
000038  6908              LDR      r0,[r1,#0x10]         ;94
00003a  f0400001          ORR      r0,r0,#1              ;94
00003e  6108              STR      r0,[r1,#0x10]         ;94
000040  4770              BX       lr
                  |L1.66|
000042  6908              LDR      r0,[r1,#0x10]         ;98
000044  f0200001          BIC      r0,r0,#1              ;98
000048  6108              STR      r0,[r1,#0x10]         ;98
00004a  4770              BX       lr
;;;105    
                          ENDP

                  SysTick_ITConfig PROC
;;;113    *******************************************************************************/
;;;114    void SysTick_ITConfig(FunctionalState NewState)
00004c  f04f21e0          MOV      r1,#0xe000e000
;;;115    {
;;;116      /* Check the parameters */
;;;117      assert_param(IS_FUNCTIONAL_STATE(NewState));
;;;118    
;;;119      if (NewState != DISABLE)
000050  2800              CMP      r0,#0
000052  d004              BEQ      |L1.94|
;;;120      {
;;;121        SysTick->CTRL |= CTRL_TICKINT_Set;
000054  6908              LDR      r0,[r1,#0x10]
000056  f0400002          ORR      r0,r0,#2
00005a  6108              STR      r0,[r1,#0x10]
;;;122      }
;;;123      else
;;;124      {
;;;125        SysTick->CTRL &= CTRL_TICKINT_Reset;
;;;126      }
;;;127    }
00005c  4770              BX       lr
                  |L1.94|
00005e  6908              LDR      r0,[r1,#0x10]         ;125
000060  f0200002          BIC      r0,r0,#2              ;125
000064  6108              STR      r0,[r1,#0x10]         ;125
000066  4770              BX       lr
;;;128    
                          ENDP

                  SysTick_GetCounter PROC
;;;135    *******************************************************************************/
;;;136    u32 SysTick_GetCounter(void)
000068  f04f20e0          MOV      r0,#0xe000e000
;;;137    {
;;;138      return(SysTick->VAL);
00006c  6980              LDR      r0,[r0,#0x18]
;;;139    }
00006e  4770              BX       lr
;;;140    
                          ENDP

                  SysTick_GetFlagStatus PROC
;;;151    *******************************************************************************/
;;;152    FlagStatus SysTick_GetFlagStatus(u8 SysTick_FLAG)
000070  2200              MOVS     r2,#0
;;;153    {
;;;154      u32 statusreg = 0, tmp = 0 ;
;;;155      FlagStatus bitstatus = RESET;
;;;156    
;;;157      /* Check the parameters */
;;;158      assert_param(IS_SYSTICK_FLAG(SysTick_FLAG));
;;;159    
;;;160      /* Get the SysTick register index */
;;;161      tmp = SysTick_FLAG >> 3;
000072  08c1              LSRS     r1,r0,#3
;;;162    
;;;163      if (tmp == 2) /* The flag to check is in CTRL register */
;;;164      {
;;;165        statusreg = SysTick->CTRL;
000074  f04f23e0          MOV      r3,#0xe000e000
000078  2902              CMP      r1,#2                 ;163
00007a  d008              BEQ      |L1.142|
;;;166      }
;;;167      else          /* The flag to check is in CALIB register */
;;;168      {
;;;169        statusreg = SysTick->CALIB;
00007c  69d9              LDR      r1,[r3,#0x1c]
                  |L1.126|
;;;170      }
;;;171    
;;;172      if ((statusreg & ((u32)1 << SysTick_FLAG)) != (u32)RESET)
00007e  2301              MOVS     r3,#1
000080  fa03f000          LSL      r0,r3,r0
000084  4208              TST      r0,r1
000086  d000              BEQ      |L1.138|
;;;173      {
;;;174        bitstatus = SET;
000088  2201              MOVS     r2,#1
                  |L1.138|
;;;175      }
;;;176      else
;;;177      {
;;;178        bitstatus = RESET;
;;;179      }
;;;180      return bitstatus;
00008a  4610              MOV      r0,r2
;;;181    }
00008c  4770              BX       lr
                  |L1.142|
00008e  6919              LDR      r1,[r3,#0x10]         ;165
000090  e7f5              B        |L1.126|
;;;182    
                          ENDP

